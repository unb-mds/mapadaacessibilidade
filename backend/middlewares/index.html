
<!doctype html>
<html lang="pt" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://mapadaacessibilidademkdocs.com/backend/middlewares/">
      
      
        <link rel="prev" href="../api/overview/">
      
      
        <link rel="next" href="../controllers/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Middlewares - MAPA DA ACESSIBILIDADE</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../styles/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#authmiddlewarejs" class="md-skip">
          Ir para o conte√∫do
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabe√ßalho">
    <a href="../.." title="MAPA DA ACESSIBILIDADE" class="md-header__button md-logo" aria-label="MAPA DA ACESSIBILIDADE" data-md-component="logo">
      
  <img src="../../assets/logo_mkdocs.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MAPA DA ACESSIBILIDADE
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Middlewares
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Alternar para o modo claro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Alternar para o modo claro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Alternar para o modo escuro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Alternar para o modo escuro" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Alternar para o modo do sistema"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Alternar para o modo do sistema" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Buscar" placeholder="Buscar" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Pesquisar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpar" aria-label="Limpar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando a pesquisa
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/unb-mds/mapadaacessibilidade" title="Ir ao reposit√≥rio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Abas" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  In√≠cio

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../funcionalidades/" class="md-tabs__link">
        
  
  
    
  
  Funcionalidades

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../estrutura/" class="md-tabs__link">
        
  
  
    
  
  Estrutura

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../contribuicao/" class="md-tabs__link">
        
  
  
    
  
  Contribui√ß√£o

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../visao_geral/" class="md-tabs__link">
          
  
  
  Backend

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../frontend/visao_geral/" class="md-tabs__link">
          
  
  
  Frontend

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../devops/" class="md-tabs__link">
        
  
  
    
  
  Devops

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../arquitetura/visao-geral/" class="md-tabs__link">
          
  
  
  Arquitetura T√©cnica

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navega√ß√£o" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="MAPA DA ACESSIBILIDADE" class="md-nav__button md-logo" aria-label="MAPA DA ACESSIBILIDADE" data-md-component="logo">
      
  <img src="../../assets/logo_mkdocs.png" alt="logo">

    </a>
    MAPA DA ACESSIBILIDADE
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/unb-mds/mapadaacessibilidade" title="Ir ao reposit√≥rio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    In√≠cio
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../funcionalidades/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Funcionalidades
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../estrutura/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Estrutura
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contribuicao/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contribui√ß√£o
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Backend
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Backend
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../visao_geral/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vis√£o Geral
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../estrutura/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Estrutura de Pastas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vis√£o Geral
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://app.swaggerhub.com/apis/mapadaacessibilidade/MapadaAcessibilidade/1.0.0" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Documenta√ß√£o SwaggerHub
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Middlewares
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Middlewares
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="√çndice">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      √çndice
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#verificacao-do-cabecalho-de-autenticacao" class="md-nav__link">
    <span class="md-ellipsis">
      Verifica√ß√£o do cabe√ßalho de autentica√ß√£o
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decodificacao-das-credenciais" class="md-nav__link">
    <span class="md-ellipsis">
      Decodifica√ß√£o das credenciais
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#busca-do-usuario-no-banco-de-dados" class="md-nav__link">
    <span class="md-ellipsis">
      Busca do usu√°rio no banco de dados
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validacao-da-senha" class="md-nav__link">
    <span class="md-ellipsis">
      Valida√ß√£o da senha
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#armazenamento-do-usuario-autenticado-na-requisicao" class="md-nav__link">
    <span class="md-ellipsis">
      Armazenamento do usu√°rio autenticado na requisi√ß√£o
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resumo" class="md-nav__link">
    <span class="md-ellipsis">
      Resumo
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../controllers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Controllers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Frontend
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Frontend
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/visao_geral/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vis√£o Geral
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/configuracoes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configura√ß√µes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/components/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Componentes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/inicializacao/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inicializa√ß√£o
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/pages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/estilos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Estilos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frontend/hooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hooks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devops/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Devops
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Arquitetura T√©cnica
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Arquitetura T√©cnica
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arquitetura/visao-geral/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vis√£o Geral
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arquitetura/diagrama/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Diagrama da Arquitetura
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arquitetura/fluxo-de-dados/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fluxo de Dados
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arquitetura/esquema-banco/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Esquema do Banco de Dados
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="authmiddlewarejs">authMiddleware.js<a class="headerlink" href="#authmiddlewarejs" title="Permanent link">&para;</a></h1>
<p>O seguinte arquivo <code>authMiddleware.js</code> tem como objetivo centralizar e padronizar a autentica√ß√£o e autoriza√ß√£o de usu√°rios nas rotas protegidas da API do backend. Ele garante que apenas usu√°rios autenticados e com o papel adequado possam acessar determinados recursos do sistema, garantindo que:</p>
<ul>
<li>
<p>‚úÖ Apenas usu√°rios autenticados acessem rotas protegidas.</p>
</li>
<li>
<p>‚úÖ Verifica√ß√£o de permiss√µes baseadas no papel (papel) do usu√°rio.</p>
</li>
</ul>
<h3 id="verificacao-do-cabecalho-de-autenticacao">Verifica√ß√£o do cabe√ßalho de autentica√ß√£o<a class="headerlink" href="#verificacao-do-cabecalho-de-autenticacao" title="Permanent link">&para;</a></h3>
<p>Este trecho garante que a requisi√ß√£o possui o cabe√ßalho de autentica√ß√£o no formato Basic. Caso contr√°rio, retorna <code>erro 401</code> (n√£o autorizado).</p>
<p><div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">authHeader</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="nx">authHeader</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="s2">&quot;Basic &quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">401</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Autentica√ß√£o necess√°ria&quot;</span><span class="w"> </span><span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
üîπ Explica√ß√£o:</p>
<ul>
<li>
<p><code>authHeader</code>: Verifica se o cabe√ßalho Authorization existe.</p>
</li>
<li>
<p><code>authHeader.startsWith("Basic ")</code>: Garante que o token esteja no formato Basic <credenciais_base64>.</p>
</li>
</ul>
<hr />
<h3 id="decodificacao-das-credenciais">Decodifica√ß√£o das credenciais<a class="headerlink" href="#decodificacao-das-credenciais" title="Permanent link">&para;</a></h3>
<p>Extrai e decodifica as credenciais (email e senha) do cabe√ßalho <strong>Basic Auth</strong>.</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">base64Credentials</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">authHeader</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="mf">1</span><span class="p">];</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">credentials</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Buffer</span><span class="p">.</span><span class="kr">from</span><span class="p">(</span><span class="nx">base64Credentials</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;base64&quot;</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="nx">email</span><span class="p">,</span><span class="w"> </span><span class="nx">senha</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">credentials</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">);</span>
</code></pre></div>
<p>üîπ Explica√ß√£o:</p>
<ul>
<li>
<p><code>authHeader.split(" ")[1]</code>: Pega apenas a parte codificada (ex: <code>"Basic dXNlckBleGVtcGxvLmNvbToxMjM0NTY=" ‚Üí "dXNlckBleGVtcGxvLmNvbToxMjM0NTY="</code>).</p>
</li>
<li>
<p><code>Buffer.from(...).toString("ascii")</code>: Converte de Base64 para texto (ex: <code>"usuario@exemplo.com:123456"</code>).</p>
</li>
<li>
<p><code>credentials.split(":")</code>: Divide em <code>email</code> e <code>senha</code>.</p>
</li>
</ul>
<hr />
<h3 id="busca-do-usuario-no-banco-de-dados">Busca do usu√°rio no banco de dados<a class="headerlink" href="#busca-do-usuario-no-banco-de-dados" title="Permanent link">&para;</a></h3>
<p>Procura o usu√°rio pelo <strong>email informado</strong>, no banco de dados (via Prisma) para verificar se o usu√°rio existe.</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">usuario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">prisma</span><span class="p">.</span><span class="nx">usuario</span><span class="p">.</span><span class="nx">findUnique</span><span class="p">({</span>
<span class="w">  </span><span class="nx">where</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">email</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="c1">// Filtra pelo email</span>
<span class="w">  </span><span class="nx">select</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nx">senha_hash</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nx">papel</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="c1">// Seleciona apenas campos necess√°rios</span>
<span class="p">});</span>
</code></pre></div>
<p>üîπ Explica√ß√£o:</p>
<ul>
<li>
<p><code>findUnique</code>: Busca um usu√°rio √∫nico pelo <code>email</code>.</p>
</li>
<li>
<p><code>select</code>: Retorna apenas os campos essenciais <code>(id, email, senha_hash, papel)</code></p>
</li>
</ul>
<hr />
<h3 id="validacao-da-senha">Valida√ß√£o da senha<a class="headerlink" href="#validacao-da-senha" title="Permanent link">&para;</a></h3>
<p>Compara o hash da senha informada com o hash armazenado. Se n√£o bater, retorna <code>erro 401</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">senhaHash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">crypto</span><span class="p">.</span><span class="nx">createHash</span><span class="p">(</span><span class="s2">&quot;sha256&quot;</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">senha</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s2">&quot;hex&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// Gera o hash SHA-256 da senha</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">usuario</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">usuario</span><span class="p">.</span><span class="nx">senha_hash</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="nx">senhaHash</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">401</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Credenciais inv√°lidas&quot;</span><span class="w"> </span><span class="p">});</span><span class="w"> </span><span class="c1">// Erro se usu√°rio n√£o existir ou senha incorreta</span>
<span class="p">}</span>
</code></pre></div>
<p>üîπ Explica√ß√£o:</p>
<ul>
<li>
<p><code>crypto.createHash("sha256")</code>: Usa <strong>SHA-256</strong> para hashing (deve ser o mesmo m√©todo usado no cadastro).</p>
</li>
<li>
<p><code>usuario.senha_hash !== senhaHash</code>: Compara o hash da senha enviada com o hash armazenado.</p>
</li>
</ul>
<hr />
<h3 id="armazenamento-do-usuario-autenticado-na-requisicao">Armazenamento do usu√°rio autenticado na requisi√ß√£o<a class="headerlink" href="#armazenamento-do-usuario-autenticado-na-requisicao" title="Permanent link">&para;</a></h3>
<p>Se autenticado, armazena o usu√°rio na requisi√ß√£o para uso posterior, em <code>req.usuario</code> para uso em rotas protegidas..</p>
<div class="highlight"><pre><span></span><code><span class="nx">req</span><span class="p">.</span><span class="nx">usuario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">usuario</span><span class="p">;</span><span class="w"> </span><span class="c1">// Adiciona o usu√°rio autenticado √† requisi√ß√£o</span>
<span class="nx">next</span><span class="p">();</span><span class="w"> </span><span class="c1">// Passa para o pr√≥ximo middleware/rota</span>
</code></pre></div>
<p>üîπ Explica√ß√£o:</p>
<ul>
<li>
<p><code>req.usuario</code>: Permite que outras rotas acessem os dados do usu√°rio (ex: req.usuario.papel para autoriza√ß√£o).</p>
</li>
<li>
<p><code>next()</code>: Continua o fluxo da requisi√ß√£o.</p>
</li>
</ul>
<hr />
<h3 id="resumo">Resumo<a class="headerlink" href="#resumo" title="Permanent link">&para;</a></h3>
<p>Os seguintes trechos de c√≥digo combinados implementam a autentica√ß√£o necess√°ria para proteger as rotas da API, atendendo os seguintes crit√©rios.</p>
<ul>
<li>
<p>üîí Exige autentica√ß√£o Basic Auth (email + senha).</p>
</li>
<li>
<p>üì¶ Valida as credenciais no banco de dados.</p>
</li>
<li>
<p>üõ°Ô∏è Protege rotas contra acesso n√£o autorizado.</p>
</li>
<li>
<p>üë§ Disponibiliza o usu√°rio autenticado em req.usuario</p>
</li>
</ul>
<hr />
<h1 id="errormiddlewarejs">errorMiddleware.js<a class="headerlink" href="#errormiddlewarejs" title="Permanent link">&para;</a></h1>
<h2 id="funcao-principal">Fun√ß√£o principal<a class="headerlink" href="#funcao-principal" title="Permanent link">&para;</a></h2>
<p>A fun√ß√£o <code>manipuladorErros</code> centraliza o tratamento de erros do backend, garantindo respostas padronizadas para diferentes tipos de falhas.</p>
<hr />
<h3 id="log-do-erro-no-servidor">Log do erro no servidor<a class="headerlink" href="#log-do-erro-no-servidor" title="Permanent link">&para;</a></h3>
<p>Registra o erro no console para facilitar o diagn√≥stico durante o desenvolvimento.</p>
<div class="highlight"><pre><span></span><code><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;Erro:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
</code></pre></div>
<p>üîπ Explica√ß√£o:</p>
<ul>
<li>
<p><code>err.stack</code> mostra a mensagem de erro completa junto com a stack trace</p>
</li>
<li>
<p>Essencial para <strong>debug</strong> em ambiente de desenvolvimento.</p>
</li>
</ul>
<hr />
<h3 id="tratamento-de-erro-de-conflito-do-prisma">Tratamento de erro de conflito do Prisma<a class="headerlink" href="#tratamento-de-erro-de-conflito-do-prisma" title="Permanent link">&para;</a></h3>
<p>Detecta conflitos de dados √∫nicos no banco (ex: email j√° cadastrado) e retorna status 409, dessa forma, identificando viola√ß√µes de constraints √∫nicas no banco de dados (c√≥digo P2002 do Prisma).</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">code</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;P2002&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">409</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span>
<span class="w">    </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Conflito de dados&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">details</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;J√° existe um registro com esses valores √∫nicos&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<p>üîπ Explica√ß√£o:</p>
<ul>
<li>
<p>C√≥digo P2002 indica viola√ß√£o de campo √∫nico (ex: email duplicado)</p>
</li>
<li>
<p>Retorna status HTTP 409 (Conflict) com mensagem clara</p>
</li>
<li>
<p>Exemplo: Tentativa de cadastrar um email j√° existente</p>
</li>
</ul>
<hr />
<h3 id="tratamento-de-erro-de-validacao">Tratamento de erro de valida√ß√£o<a class="headerlink" href="#tratamento-de-erro-de-validacao" title="Permanent link">&para;</a></h3>
<p>Responde com status 400 quando h√° dados inv√°lidos enviados pelo usu√°rio.</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">name</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;ValidationError&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">400</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span>
<span class="w">    </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Dados inv√°lidos&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">details</span><span class="o">:</span><span class="w"> </span><span class="nx">err</span><span class="p">.</span><span class="nx">errors</span><span class="p">,</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<p>üîπ Explica√ß√£o:</p>
<ul>
<li>
<p><code>ValidationError</code> tipicamente vem de valida√ß√µes de schema (ex: Zod, Joi)</p>
</li>
<li>
<p>Retorna status HTTP 400 (Bad Request)</p>
</li>
<li>
<p>Inclui detalhes dos campos inv√°lidos em <code>details</code>.</p>
</li>
</ul>
<hr />
<h3 id="tratamento-de-erro-generico">Tratamento de erro gen√©rico<a class="headerlink" href="#tratamento-de-erro-generico" title="Permanent link">&para;</a></h3>
<p>Para qualquer outro erro, retorna status 500 e, em ambiente de desenvolvimento, exibe a mensagem detalhada.</p>
<div class="highlight"><pre><span></span><code><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">500</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span>
<span class="w">  </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Erro interno no servidor&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">details</span><span class="o">:</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_ENV</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;development&quot;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">err</span><span class="p">.</span><span class="nx">message</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kc">undefined</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div>
<p>üîπ Explica√ß√£o:</p>
<ul>
<li>
<p>Status HTTP 500 (Internal Server Error) para erros inesperados</p>
</li>
<li>
<p>Mostra detalhes do erro apenas em desenvolvimento (seguran√ßa em produ√ß√£o)</p>
</li>
<li>
<p>Evita expor informa√ß√µes sens√≠veis em ambiente de produ√ß√£o</p>
</li>
</ul>
<hr />
<h3 id="resumo_1">Resumo<a class="headerlink" href="#resumo_1" title="Permanent link">&para;</a></h3>
<p>Esses trechos garantem que a API responda de forma clara e segura a diferentes tipos de erro, facilitando o uso e a manuten√ß√£o do sistema, seguindo os seguintes crit√©rios.</p>
<ul>
<li>
<p>‚úÖ Logs detalhados para desenvolvimento.</p>
</li>
<li>
<p>‚úÖ Respostas padronizadas para diferentes tipos de erro.</p>
</li>
<li>
<p>‚úÖ Tratamento espec√≠fico para erros comuns (valida√ß√£o, conflitos).</p>
</li>
<li>
<p>‚úÖ Seguran√ßa ao n√£o expor detalhes internos em produ√ß√£o.</p>
</li>
</ul>
<hr />
<h1 id="loginmiddlewarejs">loginMiddleware.js<a class="headerlink" href="#loginmiddlewarejs" title="Permanent link">&para;</a></h1>
<p>Este arquivo implementa middlewares de log para monitoramento de requisi√ß√µes na API, proporcionando visibilidade sobre o fluxo de acessos e performance do sistema.</p>
<h3 id="log-basico-de-requisicoes">Log b√°sico de requisi√ß√µes<a class="headerlink" href="#log-basico-de-requisicoes" title="Permanent link">&para;</a></h3>
<p>Registra no console o m√©todo HTTP, caminho e hor√°rio de cada requisi√ß√£o recebida pelo servidor.</p>
<div class="highlight"><pre><span></span><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`[</span><span class="si">${</span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">().</span><span class="nx">toISOString</span><span class="p">()</span><span class="si">}</span><span class="sb">] </span><span class="si">${</span><span class="nx">req</span><span class="p">.</span><span class="nx">method</span><span class="si">}</span><span class="sb"> </span><span class="si">${</span><span class="nx">req</span><span class="p">.</span><span class="nx">path</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>
<span class="nx">next</span><span class="p">();</span>
</code></pre></div>
<p>üîπ Funcionamento:</p>
<ul>
<li>
<p>Registra timestamp no formato ISO</p>
</li>
<li>
<p>Captura m√©todo HTTP (GET, POST, etc.) e caminho da requisi√ß√£o</p>
</li>
<li>
<p>Executa antes do processamento da rota <code>(next())</code></p>
</li>
</ul>
<hr />
<h3 id="log-detalhado-de-requisicoes">Log detalhado de requisi√ß√µes<a class="headerlink" href="#log-detalhado-de-requisicoes" title="Permanent link">&para;</a></h3>
<p>Registra informa√ß√µes completas ap√≥s o t√©rmino da resposta, incluindo m√©todo, caminho, status HTTP e dura√ß√£o da requisi√ß√£o em milissegundos, trazendo m√©tricas completas ap√≥s o t√©rmino do processamento.</p>
<div class="highlight"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>

<span class="nx">res</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;finish&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">start</span><span class="p">;</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
<span class="w">    </span><span class="sb">`[</span><span class="si">${</span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">().</span><span class="nx">toISOString</span><span class="p">()</span><span class="si">}</span><span class="sb">] </span><span class="si">${</span><span class="nx">req</span><span class="p">.</span><span class="nx">method</span><span class="si">}</span><span class="sb"> </span><span class="si">${</span><span class="nx">req</span><span class="p">.</span><span class="nx">path</span><span class="si">}</span><span class="sb"> - `</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="sb">`Status: </span><span class="si">${</span><span class="nx">res</span><span class="p">.</span><span class="nx">statusCode</span><span class="si">}</span><span class="sb"> - `</span><span class="w"> </span><span class="o">+</span>
<span class="w">      </span><span class="sb">`Dura√ß√£o: </span><span class="si">${</span><span class="nx">duration</span><span class="si">}</span><span class="sb">ms`</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">next</span><span class="p">();</span>
</code></pre></div>
<p>üîπ Funcionamento:</p>
<ul>
<li>
<p>Captura timestamp inicial <code>(Date.now())</code></p>
</li>
<li>
<p>Usa evento <code>finish</code> do response para registrar dados completos.</p>
</li>
<li>
<p>Calcula dura√ß√£o total da requisi√ß√£o em milissegundos.</p>
</li>
<li>
<p>Inclui status code da resposta.</p>
</li>
</ul>
<hr />
<h3 id="exemplo-de-saida">üìù Exemplo de Sa√≠da:<a class="headerlink" href="#exemplo-de-saida" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>[2023-11-15T14:30:45.456Z] POST /api/login - Status: 200 - Dura√ß√£o: 128ms
</code></pre></div>
<hr />
<h3 id="resumo_2">Resumo<a class="headerlink" href="#resumo_2" title="Permanent link">&para;</a></h3>
<p>Esses middlewares facilitam o monitoramento e o diagn√≥stico de requisi√ß√µes no backend, auxiliando na identifica√ß√£o de problemas de performance e rastreamento de acessos, tendo os respectivos benef√≠cios.</p>
<ul>
<li>‚úÖ Monitoramento em tempo real das requisi√ß√µes</li>
<li>‚úÖ Identifica√ß√£o de problemas de performance (tempos de resposta)</li>
<li>‚úÖ Rastreamento completo do fluxo de acessos</li>
<li>‚úÖ Suporte a troubleshooting com timestamps precisos</li>
</ul>
<hr />
<h1 id="validationmiddlewarejs">ValidationMiddleware.js<a class="headerlink" href="#validationmiddlewarejs" title="Permanent link">&para;</a></h1>
<h2 id="visao-geral">Vis√£o Geral<a class="headerlink" href="#visao-geral" title="Permanent link">&para;</a></h2>
<p>Esta documenta√ß√£o descreve os middlewares de valida√ß√£o utilizados no backend do projeto "Mapa da Acessibilidade". Os middlewares de valida√ß√£o s√£o respons√°veis por garantir que os dados de entrada estejam corretos antes de serem processados pelos controllers.</p>
<h2 id="estrutura-de-middlewares">Estrutura de Middlewares<a class="headerlink" href="#estrutura-de-middlewares" title="Permanent link">&para;</a></h2>
<h3 id="diretorio-middlewares">Diret√≥rio Middlewares<a class="headerlink" href="#diretorio-middlewares" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>src/middlewares/
‚îú‚îÄ‚îÄ authMiddleware.js
‚îú‚îÄ‚îÄ errorMiddleware.js
‚îú‚îÄ‚îÄ loginMiddleware.js
‚îî‚îÄ‚îÄ validationMiddleware.js
</code></pre></div>
<h2 id="validation-middlewares">Validation Middlewares<a class="headerlink" href="#validation-middlewares" title="Permanent link">&para;</a></h2>
<h3 id="validationmiddlewarejs_1">validationMiddleware.js<a class="headerlink" href="#validationmiddlewarejs_1" title="Permanent link">&para;</a></h3>
<p>Middleware espec√≠fico para valida√ß√£o de dados de entrada.</p>
<p><strong>Localiza√ß√£o:</strong> <code>src/middlewares/validationMiddleware.js</code></p>
<p><strong>Fun√ß√£o:</strong> Respons√°vel pela valida√ß√£o de dados de usu√°rios e requisi√ß√µes de login.</p>
<h4 id="funcionalidades-implementadas">Funcionalidades Implementadas<a class="headerlink" href="#funcionalidades-implementadas" title="Permanent link">&para;</a></h4>
<h5 id="validarcadastrousuario">validarCadastroUsuario<a class="headerlink" href="#validarcadastrousuario" title="Permanent link">&para;</a></h5>
<p>Middleware para valida√ß√£o de dados de cadastro de usu√°rios.</p>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">validarCadastroUsuario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">nome</span><span class="p">,</span><span class="w"> </span><span class="nx">email</span><span class="p">,</span><span class="w"> </span><span class="nx">senha</span><span class="p">,</span><span class="w"> </span><span class="nx">papel</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">nome</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">nome</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span>
<span class="w">      </span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">400</span><span class="p">)</span>
<span class="w">      </span><span class="p">.</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Nome inv√°lido (m√≠nimo 3 caracteres)&quot;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">email</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="sr">/^[^\s@]+@[^\s@]+\.[^\s@]+$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">email</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">400</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Email inv√°lido&quot;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">senha</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">senha</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">6</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span>
<span class="w">      </span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">400</span><span class="p">)</span>
<span class="w">      </span><span class="p">.</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Senha deve ter pelo menos 6 caracteres&quot;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">[</span><span class="s2">&quot;usuario&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;admin&quot;</span><span class="p">].</span><span class="nx">includes</span><span class="p">(</span><span class="nx">papel</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">400</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Papel inv√°lido&quot;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">next</span><span class="p">();</span>
<span class="p">};</span>
</code></pre></div>
<p><strong>Valida√ß√µes Implementadas:</strong>
- <strong>Nome</strong>: Obrigat√≥rio, m√≠nimo de 3 caracteres
- <strong>Email</strong>: Obrigat√≥rio, formato v√°lido usando regex
- <strong>Senha</strong>: Obrigat√≥ria, m√≠nimo de 6 caracteres
- <strong>Papel</strong>: Deve ser "usuario" ou "admin"</p>
<p><strong>C√≥digos de Erro:</strong>
- <strong>400</strong>: Dados inv√°lidos ou ausentes</p>
<h5 id="validarlogin">validarLogin<a class="headerlink" href="#validarlogin" title="Permanent link">&para;</a></h5>
<p>Middleware para valida√ß√£o de dados de login.</p>
<div class="highlight"><pre><span></span><code><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">validarLogin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">email</span><span class="p">,</span><span class="w"> </span><span class="nx">senha</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">email</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="nx">senha</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">400</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Email e senha s√£o obrigat√≥rios&quot;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="nx">next</span><span class="p">();</span>
<span class="p">};</span>
</code></pre></div>
<p><strong>Valida√ß√µes Implementadas:</strong>
- <strong>Email</strong>: Obrigat√≥rio
- <strong>Senha</strong>: Obrigat√≥ria</p>
<p><strong>C√≥digos de Erro:</strong>
- <strong>400</strong>: Campos obrigat√≥rios ausentes</p>
<h2 id="regras-de-validacao">Regras de Valida√ß√£o<a class="headerlink" href="#regras-de-validacao" title="Permanent link">&para;</a></h2>
<h3 id="cadastro-de-usuarios">Cadastro de Usu√°rios<a class="headerlink" href="#cadastro-de-usuarios" title="Permanent link">&para;</a></h3>
<h4 id="campo-nome">Campo Nome<a class="headerlink" href="#campo-nome" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Obrigat√≥rio</strong>: Sim</li>
<li><strong>Tamanho m√≠nimo</strong>: 3 caracteres</li>
<li><strong>Mensagem de erro</strong>: "Nome inv√°lido (m√≠nimo 3 caracteres)"</li>
</ul>
<h4 id="campo-email">Campo Email<a class="headerlink" href="#campo-email" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Obrigat√≥rio</strong>: Sim</li>
<li><strong>Formato</strong>: Deve seguir padr√£o de email v√°lido</li>
<li><strong>Regex</strong>: <code>/^[^\s@]+@[^\s@]+\.[^\s@]+$/</code></li>
<li><strong>Mensagem de erro</strong>: "Email inv√°lido"</li>
</ul>
<h4 id="campo-senha">Campo Senha<a class="headerlink" href="#campo-senha" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Obrigat√≥rio</strong>: Sim</li>
<li><strong>Tamanho m√≠nimo</strong>: 6 caracteres</li>
<li><strong>Mensagem de erro</strong>: "Senha deve ter pelo menos 6 caracteres"</li>
</ul>
<h4 id="campo-papel">Campo Papel<a class="headerlink" href="#campo-papel" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Obrigat√≥rio</strong>: Sim</li>
<li><strong>Valores aceitos</strong>: "usuario" ou "admin"</li>
<li><strong>Mensagem de erro</strong>: "Papel inv√°lido"</li>
</ul>
<h3 id="login">Login<a class="headerlink" href="#login" title="Permanent link">&para;</a></h3>
<h4 id="campos-email-e-senha">Campos Email e Senha<a class="headerlink" href="#campos-email-e-senha" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Obrigat√≥rios</strong>: Sim</li>
<li><strong>Mensagem de erro</strong>: "Email e senha s√£o obrigat√≥rios"</li>
</ul>
<h2 id="estrutura-de-implementacao">Estrutura de Implementa√ß√£o<a class="headerlink" href="#estrutura-de-implementacao" title="Permanent link">&para;</a></h2>
<h3 id="padrao-de-middlewares">Padr√£o de Middlewares<a class="headerlink" href="#padrao-de-middlewares" title="Permanent link">&para;</a></h3>
<p>Os middlewares seguem o padr√£o Node.js/Express com ES6 modules:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Estrutura padr√£o de middleware de valida√ß√£o</span>
<span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">validar</span><span class="p">[</span><span class="nx">Funcionalidade</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span><span class="w"> </span><span class="nx">res</span><span class="p">,</span><span class="w"> </span><span class="nx">next</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Extra√ß√£o de dados do body</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">campo1</span><span class="p">,</span><span class="w"> </span><span class="nx">campo2</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Valida√ß√µes</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">campo1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mf">400</span><span class="p">).</span><span class="nx">json</span><span class="p">({</span><span class="w"> </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Mensagem de erro&quot;</span><span class="w"> </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Continua processamento</span>
<span class="w">    </span><span class="nx">next</span><span class="p">();</span>
<span class="p">};</span>
</code></pre></div>
<h3 id="padrao-de-resposta-de-erro">Padr√£o de Resposta de Erro<a class="headerlink" href="#padrao-de-resposta-de-erro" title="Permanent link">&para;</a></h3>
<p>Todas as valida√ß√µes retornam erros no formato:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Mensagem descritiva do erro&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="funcionalidades">Funcionalidades<a class="headerlink" href="#funcionalidades" title="Permanent link">&para;</a></h2>
<h3 id="validation-middleware">Validation Middleware<a class="headerlink" href="#validation-middleware" title="Permanent link">&para;</a></h3>
<p>O <code>validationMiddleware.js</code> √© respons√°vel por:</p>
<ul>
<li>Valida√ß√£o de dados de cadastro de usu√°rios</li>
<li>Valida√ß√£o de dados de login</li>
<li>Retorno de mensagens de erro padronizadas</li>
<li>Verifica√ß√£o de formatos e tamanhos de campos</li>
</ul>
<h3 id="tipos-de-validacao">Tipos de Valida√ß√£o<a class="headerlink" href="#tipos-de-validacao" title="Permanent link">&para;</a></h3>
<h4 id="validacao-de-presenca">Valida√ß√£o de Presen√ßa<a class="headerlink" href="#validacao-de-presenca" title="Permanent link">&para;</a></h4>
<ul>
<li>Verifica se campos obrigat√≥rios est√£o presentes</li>
<li>Exemplo: <code>if (!email || !senha)</code></li>
</ul>
<h4 id="validacao-de-formato">Valida√ß√£o de Formato<a class="headerlink" href="#validacao-de-formato" title="Permanent link">&para;</a></h4>
<ul>
<li>Verifica se dados seguem formato esperado</li>
<li>Exemplo: Regex para email</li>
</ul>
<h4 id="validacao-de-tamanho">Valida√ß√£o de Tamanho<a class="headerlink" href="#validacao-de-tamanho" title="Permanent link">&para;</a></h4>
<ul>
<li>Verifica tamanho m√≠nimo/m√°ximo de campos</li>
<li>Exemplo: Nome com m√≠nimo 3 caracteres</li>
</ul>
<h4 id="validacao-de-valores">Valida√ß√£o de Valores<a class="headerlink" href="#validacao-de-valores" title="Permanent link">&para;</a></h4>
<ul>
<li>Verifica se valores est√£o dentro de op√ß√µes permitidas</li>
<li>Exemplo: Papel deve ser "usuario" ou "admin"</li>
</ul>
<h2 id="organizacao-do-codigo">Organiza√ß√£o do C√≥digo<a class="headerlink" href="#organizacao-do-codigo" title="Permanent link">&para;</a></h2>
<h3 id="localizacao-dos-arquivos">Localiza√ß√£o dos Arquivos<a class="headerlink" href="#localizacao-dos-arquivos" title="Permanent link">&para;</a></h3>
<p>Todos os middlewares est√£o organizados na pasta:</p>
<div class="highlight"><pre><span></span><code>src/middlewares/
</code></pre></div>
<h3 id="nomenclatura">Nomenclatura<a class="headerlink" href="#nomenclatura" title="Permanent link">&para;</a></h3>
<ul>
<li>Arquivos seguem o padr√£o <code>[funcionalidade]Middleware.js</code></li>
<li>Fun√ß√µes exportadas como <code>export const validar[Funcionalidade]</code></li>
<li>Separa√ß√£o clara de responsabilidades</li>
</ul>
<h2 id="fluxo-de-processamento">Fluxo de Processamento<a class="headerlink" href="#fluxo-de-processamento" title="Permanent link">&para;</a></h2>
<h3 id="sequencia-de-middlewares">Sequ√™ncia de Middlewares<a class="headerlink" href="#sequencia-de-middlewares" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Validation Middleware</strong>: Valida dados de entrada</li>
<li><strong>Auth Middleware</strong>: Processa autentica√ß√£o (se necess√°rio)</li>
<li><strong>Controller</strong>: Executa l√≥gica de neg√≥cio</li>
<li><strong>Error Middleware</strong>: Trata erros (se necess√°rio)</li>
</ol>
<h3 id="integracao-com-rotas">Integra√ß√£o com Rotas<a class="headerlink" href="#integracao-com-rotas" title="Permanent link">&para;</a></h3>
<p>Os middlewares de valida√ß√£o s√£o utilizados nas rotas:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Exemplo de uso nas rotas</span>
<span class="nx">router</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/cadastro&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">validarCadastroUsuario</span><span class="p">,</span><span class="w"> </span><span class="nx">controller</span><span class="p">.</span><span class="nx">cadastrar</span><span class="p">);</span>
<span class="nx">router</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">&#39;/login&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">validarLogin</span><span class="p">,</span><span class="w"> </span><span class="nx">controller</span><span class="p">.</span><span class="nx">login</span><span class="p">);</span>
</code></pre></div>
<h2 id="middlewares-relacionados">Middlewares Relacionados<a class="headerlink" href="#middlewares-relacionados" title="Permanent link">&para;</a></h2>
<h3 id="authmiddlewarejs_1">authMiddleware.js<a class="headerlink" href="#authmiddlewarejs_1" title="Permanent link">&para;</a></h3>
<p>Middleware de autentica√ß√£o do sistema.</p>
<p><strong>Localiza√ß√£o:</strong> <code>src/middlewares/authMiddleware.js</code></p>
<p><strong>Fun√ß√£o:</strong> Gerencia a autentica√ß√£o de usu√°rios nas requisi√ß√µes.</p>
<h3 id="loginmiddlewarejs_1">loginMiddleware.js<a class="headerlink" href="#loginmiddlewarejs_1" title="Permanent link">&para;</a></h3>
<p>Middleware de login e logging.</p>
<p><strong>Localiza√ß√£o:</strong> <code>src/middlewares/loginMiddleware.js</code></p>
<p><strong>Fun√ß√£o:</strong> Processa requisi√ß√µes de login e logging do sistema.</p>
<h3 id="errormiddlewarejs_1">errorMiddleware.js<a class="headerlink" href="#errormiddlewarejs_1" title="Permanent link">&para;</a></h3>
<p>Middleware de tratamento de erros.</p>
<p><strong>Localiza√ß√£o:</strong> <code>src/middlewares/errorMiddleware.js</code></p>
<p><strong>Fun√ß√£o:</strong> Gerencia o tratamento de erros da aplica√ß√£o.</p>
<h2 id="observacoes-tecnicas">Observa√ß√µes T√©cnicas<a class="headerlink" href="#observacoes-tecnicas" title="Permanent link">&para;</a></h2>
<h3 id="dependencias">Depend√™ncias<a class="headerlink" href="#dependencias" title="Permanent link">&para;</a></h3>
<p>Os middlewares fazem parte do sistema de roteamento e s√£o utilizados nas rotas definidas em:</p>
<div class="highlight"><pre><span></span><code>src/routes/
</code></pre></div>
<h3 id="configuracao">Configura√ß√£o<a class="headerlink" href="#configuracao" title="Permanent link">&para;</a></h3>
<p>A configura√ß√£o dos middlewares est√° integrada com:</p>
<ul>
<li>Sistema de rotas da aplica√ß√£o</li>
<li>Controllers de usu√°rios</li>
<li>Sistema de autentica√ß√£o geral do projeto</li>
</ul>
<h3 id="status-codes">Status Codes<a class="headerlink" href="#status-codes" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>400 Bad Request</strong>: Dados inv√°lidos ou ausentes</li>
<li><strong>next()</strong>: Continua para o pr√≥ximo middleware quando dados v√°lidos</li>
</ul>
<h3 id="exemplos-de-uso">Exemplos de Uso<a class="headerlink" href="#exemplos-de-uso" title="Permanent link">&para;</a></h3>
<h4 id="cadastro-valido">Cadastro V√°lido<a class="headerlink" href="#cadastro-valido" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;nome&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jo√£o Silva&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;joao@email.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;senha&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;123456&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;papel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;usuario&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="login-valido">Login V√°lido<a class="headerlink" href="#login-valido" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;joao@email.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;senha&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;123456&quot;</span>
<span class="p">}</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/unb-mds/mapadaacessibilidade" target="_blank" rel="noopener" title="GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado para \u00e1rea de transfer\u00eancia", "clipboard.copy": "Copiar para \u00e1rea de transfer\u00eancia", "search.result.more.one": "Mais 1 nesta p\u00e1gina", "search.result.more.other": "Mais # nesta p\u00e1gina", "search.result.none": "Nenhum resultado encontrado", "search.result.one": "1 resultado encontrado", "search.result.other": "# resultados encontrados", "search.result.placeholder": "Digite para iniciar a busca", "search.result.term.missing": "Ausente", "select.version": "Selecione a vers\u00e3o"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>